---
prev:
   text: 'Дополнения - Анализатор'
   link: '/addons/analyzer'
next: 
   text: 'Продвинутые темы - Компиляция'
   link: '/advanced/compiling'
---

# Создание дополнения

Хотите расширить функциональность SkEditor? Создание дополнения — отличный способ сделать это! Это руководство проведёт вас через процесс создания собственного дополнения для SkEditor.

::: warning
Это руководство предполагает, что у вас есть базовое понимание C# и разработки .NET.
Если вы новичок в C#, рассмотрите возможность изучения вводных ресурсов.
:::

## Предварительные требования

- [.NET 8.0 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)
- Редактор кода или IDE, поддерживающая разработку на C# (например, Visual Studio, Rider или Visual Studio Code)

Создание проекта в текстовом редакторе возможно, но использование IDE сделает процесс намного проще и эффективнее.

Это руководство будет использовать JetBrains Rider в качестве IDE. Процесс должен быть похожим в Visual Studio, но VS Code не будет работать так же хорошо.

## Создание проекта дополнения

1. **Создайте новый проект**: Откройте вашу IDE и создайте новый проект Class Library, нацеленный на .NET 8.0. Назовите его как хотите.
2. **Добавьте SkEditor API**: Добавьте ссылку на SkEditor API. Вы можете сделать это, добавив [пакет SkEditor NuGet](https://www.nuget.org/packages/SkEditor/) в файл вашего проекта или через менеджер пакетов NuGet в вашей IDE.

## Реализация дополнения

У вас должен быть класс с именем проекта, сгенерированный IDE. Этот класс будет точкой входа вашего дополнения.
Сначала вам нужно реализовать интерфейс `IAddon` из SkEditor API. Этот интерфейс требует от вас реализации некоторых свойств и методов.

Вот базовый пример того, как может выглядеть класс вашего дополнения:

```csharp
using SkEditor.API;

namespace SkEditorTestAddon;

public class TestAddon : IAddon
{
    public string Name => "TestAddon";

    public string Identifier => "TestAddon";

    public string Version => "1.0.0";

    public string? Description => "Тестовое дополнение для SkEditor";

    public Version GetMinimalSkEditorVersion() => new(2, 9, 3);

    public void OnEnable()
    {
        SkEditorAPI.Windows.ShowMessage("Включено!", "TestAddon включён!");
    }
}
```

## Использование дополнения

1. **Соберите проект**: После реализации вашего дополнения соберите проект для генерации DLL файла.
   Вы можете щёлкнуть правой кнопкой мыши по проекту в вашей IDE и выбрать `Build` или `Pack`. Вы также можете использовать командную строку:

    ```bash
    dotnet build -c Release
    ```

2. **Найдите DLL**: После сборки найдите сгенерированный DLL файл. Он должен быть в директории типа `/bin/Release/net8.0` и называться по имени вашего проекта (например, `SkEditorTestAddon.dll`).
3. **Установите дополнение**: Скопируйте DLL файл в папку внутри директории дополнений SkEditor, которая находится по адресу `%appdata%/SkEditor/Addons` в Windows, `~/.config/SkEditor/Addons` в Linux и `~/Library/Application Support/SkEditor/Addons` в macOS.
   Например, вы можете создать папку с именем `TestAddon` и поместить DLL внутрь неё. Вы также можете включить `Режим разработчика` в настройках SkEditor (раздел `О программе`) и затем использовать кнопку `Загрузить из файла` в разделе `Дополнения` для загрузки вашего дополнения напрямую из DLL файла.
4. **Перезапустите SkEditor**: После размещения DLL в директории дополнений перезапустите SkEditor для загрузки вашего дополнения. Это не должно быть необходимо, если вы использовали кнопку `Загрузить из файла`.
5. **Наслаждайтесь!** Если у вас есть вопросы или нужна помощь, не стесняйтесь спрашивать на Discord сервере SkEditor - там есть специальный канал `#dev`, где вы можете обсудить эту тему!